package main

import (
	"fmt"
	"sync"
	"time"
)

var wg sync.WaitGroup

// å‘é€éªŒè¯ğŸå‡½æ•°
func SendCode() {
	fmt.Println("å‘é€éªŒè¯ç å¼€å§‹...")
	time.Sleep((3 * time.Second))
	fmt.Println("å‘é€éªŒè¯ç ç»“æŸ...")
	wg.Done() // åç¨‹ç»“æŸäº†ï¼Œæˆ–è€…wg.Add(-1)
}

func main() {
	wg.Add(1) // åˆ†ä¸€ä¸ªåç¨‹å»æ‰§è¡Œ
	// å®ç°ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½
	fmt.Println("ç”¨æˆ·æ³¨å†Œæ ¡éªŒå®Œæˆ")
	// å‘é€éªŒè¯ç  (å¦‚æœä¸å¼€å¯åç¨‹ï¼Œéœ€è¦ç­‰å¾…3ç§’åæ‰æ‰“å° æ³¨å†ŒéªŒè¯éƒ¨åˆ†ç»“æŸ)ï¼Œç±»ä¼¼åŒæ­¥ / å¼‚æ­¥
	// ä¼šé˜»å¡ä¸»çº¿ç¨‹
	// SendCode()
	go SendCode()
	fmt.Println("æ³¨å†ŒéªŒè¯éƒ¨åˆ†ç»“æŸ")
	// time.Sleep((4 * time.Second)) // éœ€è¦ç­‰å¾…åç¨‹ç»“æŸï¼Œä¸»çº¿ç¨‹æ‰ç»“æŸï¼Œå¦åˆ™ä¸»çº¿ç¨‹ç»“æŸï¼Œåç¨‹ä¹Ÿä¼šè·Ÿç€ç»“æŸ

	wg.Wait() // ç­‰å¾…åç¨‹ç»“æŸå†ç»“æŸ
	fmt.Println("mainç»“æŸ...")
}
